{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saksh\\\\OneDrive\\\\Desktop\\\\DS\\\\civiceye\\\\civiceye\\\\frontend\\\\src\\\\pages\\\\AdminAllIssues.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { LayoutDashboard, AlertCircle, Users, FileText, Clock, CheckCircle, BarChart3, Search, UserX, UserCheck, ArrowRight, User as UserIcon, Loader2 } from 'lucide-react';\nimport './AdminAllIssues.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\n\n// List of standard department strings used during initial complaint registration\nconst DEPARTMENTS = [\"Municipal sanitation and public health\", \"Roads and street infrastructure\", \"Street lighting and electrical assets\", \"Water, sewerage, and stormwater\", \"Ward/zone office and central admin\"];\n// ------------------------------------------------------------------\n\n// --- Assign/Reassign Button Component ---\nconst AssignButton = ({\n  issue,\n  volunteers,\n  onAssign\n}) => {\n  _s();\n  const [isReassigning, setIsReassigning] = useState(false);\n  const [selectedVolunteer, setSelectedVolunteer] = useState(issue.assignedTo);\n  const [isSaving, setIsSaving] = useState(false);\n  useEffect(() => {\n    setSelectedVolunteer(issue.assignedTo);\n  }, [issue.assignedTo]);\n  const isAssigned = issue.assignedTo && issue.assignedTo !== 'Unassigned';\n  const isSameVolunteer = selectedVolunteer === issue.assignedTo;\n  const handleAssignment = async () => {\n    if (!selectedVolunteer || selectedVolunteer === 'Unassigned' || isSameVolunteer) {\n      setIsReassigning(false);\n      return;\n    }\n    setIsSaving(true);\n    try {\n      await axios.put(`${API_BASE_URL}/complaints/assign/${issue.id}`, {\n        assignedTo: selectedVolunteer\n      }, {\n        withCredentials: true\n      });\n      onAssign(issue.id, selectedVolunteer);\n      setIsReassigning(false);\n      alert(`Issue ${issue.id} successfully assigned to ${selectedVolunteer}.`);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response2$data;\n      console.error(\"Assignment failed:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(`Failed to assign issue: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Server error.'}`);\n      setSelectedVolunteer(issue.assignedTo);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  if (isReassigning) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reassign-control-inline\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedVolunteer || 'Unassigned',\n        onChange: e => setSelectedVolunteer(e.target.value === 'Unassigned' ? null : e.target.value),\n        className: \"volunteer-select-admin\",\n        disabled: isSaving,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Unassigned\",\n          children: \"Select Volunteer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), volunteers.map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: v.name,\n          children: v.name\n        }, v.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reassign-actions-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn assign-confirm-btn\",\n          onClick: handleAssignment,\n          disabled: isSaving || !selectedVolunteer || selectedVolunteer === 'Unassigned' || isSameVolunteer,\n          children: [isSaving ? /*#__PURE__*/_jsxDEV(Loader2, {\n            size: 14,\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(UserCheck, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 81\n          }, this), isSaving ? 'Saving...' : 'Assign']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn assign-cancel-btn\",\n          onClick: () => {\n            setIsReassigning(false);\n            setSelectedVolunteer(issue.assignedTo);\n          },\n          disabled: isSaving,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"assigned-display\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"assigned-name-display\",\n      children: issue.assignedTo || 'Unassigned'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `reassign-btn ${isAssigned ? 'reassign' : 'assign'}`,\n      onClick: () => setIsReassigning(true),\n      children: [isAssigned ? /*#__PURE__*/_jsxDEV(UserX, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(UserIcon, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 53\n      }, this), isAssigned ? 'Reassign' : 'Assign']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n// ------------------------------------------------------------------\n_s(AssignButton, \"KmZUPQ1dOnIJnL2RFqkgIwqGvWs=\");\n_c = AssignButton;\nconst AllIssuesAdmin = () => {\n  _s2();\n  const navigate = useNavigate();\n  const {\n    user,\n    signOut\n  } = useAuth();\n\n  // --- State for Live Data ---\n  const [allIssues, setAllIssues] = useState([]);\n  const [allVolunteers, setAllVolunteers] = useState([]); // Live volunteers list\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [authChecked, setAuthChecked] = useState(false);\n  // ----------------------------\n\n  const handleLogout = () => {\n    if (window.confirm('Are you sure you want to logout?')) {\n      signOut();\n      navigate('/');\n    }\n  };\n  const getUserInitials = name => {\n    if (!name) return 'MJ';\n    return name.split(' ').map(part => part[0]).join('').toUpperCase();\n  };\n  const mapStatus = serverStatus => {\n    switch (serverStatus) {\n      case 'recived':\n        return 'Pending';\n      case 'inReview':\n        return 'In Progress';\n      case 'resolved':\n        return 'Resolved';\n      default:\n        return 'Pending';\n    }\n  };\n\n  // --- API Fetch Functions ---\n  const fetchVolunteers = useCallback(async () => {\n    try {\n      // Fetches all users and filters for volunteers\n      const response = await axios.get(`${API_BASE_URL}/users/list-all`, {\n        withCredentials: true\n      });\n      const volunteersList = response.data.data.filter(u => u.role === 'volunteer').map(v => ({\n        id: v._id,\n        name: v.name,\n        location: v.location\n      }));\n      setAllVolunteers(volunteersList);\n    } catch (err) {\n      console.error(\"Failed to fetch volunteer list:\", err.message);\n    }\n  }, []);\n  const fetchIssues = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_BASE_URL}/complaints/all`, {\n        withCredentials: true\n      });\n      const mappedIssues = response.data.data.map(comp => {\n        var _comp$userId;\n        const statusText = mapStatus(comp.status);\n        const mockPriority = ['high', 'medium', 'low'][Math.floor(Math.random() * 3)];\n        let assignedToName = comp.assignedTo;\n\n        // CRITICAL FIX: If assignedTo is one of the department strings, show it as null/Unassigned.\n        if (DEPARTMENTS.includes(assignedToName)) {\n          assignedToName = null;\n        }\n        const mockReportedBy = ((_comp$userId = comp.userId) === null || _comp$userId === void 0 ? void 0 : _comp$userId.name) || 'Anonymous Citizen';\n        return {\n          id: comp._id,\n          title: comp.title,\n          status: statusText.toLowerCase().replace(' ', ''),\n          priority: mockPriority,\n          assignedTo: assignedToName,\n          // Name comes directly from DB\n          reportedBy: mockReportedBy,\n          date: new Date(comp.createdAt).toLocaleDateString('en-US')\n        };\n      });\n      setAllIssues(mappedIssues);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Failed to fetch issues:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      setError('Failed to fetch issues data.');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // --- Auth Check and Data Fetch Effects ---\n  useEffect(() => {\n    const checkAuth = setTimeout(() => {\n      setAuthChecked(true);\n    }, 50);\n    return () => clearTimeout(checkAuth);\n  }, []);\n  useEffect(() => {\n    if (!authChecked) return;\n    if (user) {\n      fetchIssues();\n      fetchVolunteers(); // Fetch the list of volunteers\n    } else {\n      navigate('/login');\n    }\n  }, [user, navigate, fetchIssues, fetchVolunteers, authChecked]);\n\n  // --- Data Aggregation and Filtering ---\n  const filteredIssues = useMemo(() => {\n    if (!searchTerm) return allIssues;\n    const lowerSearchTerm = searchTerm.toLowerCase();\n    return allIssues.filter(issue => issue.title.toLowerCase().includes(lowerSearchTerm) || issue.reportedBy.toLowerCase().includes(lowerSearchTerm) || (issue.assignedTo || '').toLowerCase().includes(lowerSearchTerm) || issue.status.toLowerCase().includes(lowerSearchTerm));\n  }, [allIssues, searchTerm]);\n  const dynamicStats = useMemo(() => {\n    const total = allIssues.length;\n    const inProgress = allIssues.filter(i => i.status === 'inprogress').length;\n    const resolved = allIssues.filter(i => i.status === 'resolved').length;\n    const pending = allIssues.filter(i => i.status === 'pending').length;\n    return [{\n      label: 'Total Issues',\n      value: total,\n      icon: BarChart3,\n      color: '#e5e7eb'\n    }, {\n      label: 'In Progress',\n      value: inProgress,\n      icon: Clock,\n      color: '#dbeafe'\n    }, {\n      label: 'Resolved',\n      value: resolved,\n      icon: CheckCircle,\n      color: '#dcfce7'\n    }, {\n      label: 'Pending',\n      value: pending,\n      icon: AlertCircle,\n      color: '#ffedd5'\n    }];\n  }, [allIssues]);\n\n  // --- Assignment Logic ---\n  const handleAssignIssue = (issueId, newVolunteerName) => {\n    setAllIssues(prevIssues => prevIssues.map(issue => issue.id === issueId ? {\n      ...issue,\n      assignedTo: newVolunteerName\n    } : issue));\n  };\n\n  // ... (handleViewDetails and conditional rendering remains) ...\n  if (!user && !authChecked) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading user session...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this);\n  }\n  if (!user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-issues-admin\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-logo-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-logo-title\",\n              children: \"CivicEye\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-logo-subtitle\",\n              children: \"Civic Platform\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"admin-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin-dashboard\",\n            className: \"admin-nav-link\",\n            children: [/*#__PURE__*/_jsxDEV(LayoutDashboard, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), \" Dashboard\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin-all-issues\",\n            className: \"admin-nav-link active\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this), \" All Issues\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin-users-volunteers\",\n            className: \"admin-nav-link\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), \" Users & Volunteers\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-profile\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/AdminProfile\",\n          className: \"profile-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-initials\",\n            children: getUserInitials(user.name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn-header\",\n          children: /*#__PURE__*/_jsxDEV(ArrowRight, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"issues-hero\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issues-hero-content\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          size: 36\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"All Issues Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Comprehensive oversight and management of all reported issues across the platform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"issues-stats-grid\",\n      children: dynamicStats.map((stat, idx) => {\n        const Icon = stat.icon;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issues-stat-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"issues-stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issues-stat-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issues-stat-label\",\n                children: stat.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"issues-stat-value\",\n                children: stat.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"issues-stat-icon\",\n              style: {\n                backgroundColor: stat.color\n              },\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                size: 24,\n                color: \"#6b7280\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 29\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"issues-table-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issues-table-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"issues-table-title\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Issues Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"issues-table-subtitle\",\n          children: \"Complete list of all reported issues with management actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search issues...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issues-table-container\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-state-admin\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading issues from database...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 25\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-state-admin\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 24,\n            color: \"#ef4444\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 25\n        }, this) : filteredIssues.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state-admin\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 24,\n            color: \"#9ca3af\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No issues found matching your search criteria.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"issues-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Priority\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Assigned To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Reported By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredIssues.map(issue => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"issue-title-cell\",\n                children: issue.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge status-${issue.status}`,\n                  children: issue.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `priority-badge priority-${issue.priority}`,\n                  children: issue.priority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"assigned-cell-combined\",\n                children: /*#__PURE__*/_jsxDEV(AssignButton, {\n                  issue: issue,\n                  volunteers: allVolunteers,\n                  onAssign: handleAssignIssue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: issue.reportedBy\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: issue.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 41\n              }, this)]\n            }, issue.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 9\n  }, this);\n};\n_s2(AllIssuesAdmin, \"N3hxjUd91oGeO5QU9dHd9/ePrZQ=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c2 = AllIssuesAdmin;\nexport default AllIssuesAdmin;\nvar _c, _c2;\n$RefreshReg$(_c, \"AssignButton\");\n$RefreshReg$(_c2, \"AllIssuesAdmin\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useNavigate","Link","useAuth","axios","LayoutDashboard","AlertCircle","Users","FileText","Clock","CheckCircle","BarChart3","Search","UserX","UserCheck","ArrowRight","User","UserIcon","Loader2","jsxDEV","_jsxDEV","API_BASE_URL","DEPARTMENTS","AssignButton","issue","volunteers","onAssign","_s","isReassigning","setIsReassigning","selectedVolunteer","setSelectedVolunteer","assignedTo","isSaving","setIsSaving","isAssigned","isSameVolunteer","handleAssignment","put","id","withCredentials","alert","error","_error$response","_error$response2","_error$response2$data","console","response","data","message","className","children","value","onChange","e","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","map","v","name","onClick","size","_c","AllIssuesAdmin","_s2","navigate","user","signOut","allIssues","setAllIssues","allVolunteers","setAllVolunteers","loading","setLoading","setError","searchTerm","setSearchTerm","authChecked","setAuthChecked","handleLogout","window","confirm","getUserInitials","split","part","join","toUpperCase","mapStatus","serverStatus","fetchVolunteers","get","volunteersList","filter","u","role","_id","location","err","fetchIssues","mappedIssues","comp","_comp$userId","statusText","status","mockPriority","Math","floor","random","assignedToName","includes","mockReportedBy","userId","title","toLowerCase","replace","priority","reportedBy","date","Date","createdAt","toLocaleDateString","_err$response","checkAuth","setTimeout","clearTimeout","filteredIssues","lowerSearchTerm","dynamicStats","total","length","inProgress","i","resolved","pending","label","icon","color","handleAssignIssue","issueId","newVolunteerName","prevIssues","style","display","justifyContent","alignItems","height","to","stat","idx","Icon","backgroundColor","type","placeholder","_c2","$RefreshReg$"],"sources":["C:/Users/saksh/OneDrive/Desktop/DS/civiceye/civiceye/frontend/src/pages/AdminAllIssues.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport axios from 'axios';\r\nimport { \r\n    LayoutDashboard, AlertCircle, Users, FileText, Clock, \r\n    CheckCircle, BarChart3, Search, UserX, UserCheck,ArrowRight, \r\n    User as UserIcon, Loader2 \r\n} from 'lucide-react';\r\nimport './AdminAllIssues.css';\r\n\r\nconst API_BASE_URL = 'http://localhost:3000/api/v1';\r\n\r\n// List of standard department strings used during initial complaint registration\r\nconst DEPARTMENTS = [\r\n    \"Municipal sanitation and public health\",\r\n    \"Roads and street infrastructure\",\r\n    \"Street lighting and electrical assets\",\r\n    \"Water, sewerage, and stormwater\",\r\n    \"Ward/zone office and central admin\"\r\n];\r\n// ------------------------------------------------------------------\r\n\r\n// --- Assign/Reassign Button Component ---\r\nconst AssignButton = ({ issue, volunteers, onAssign }) => {\r\n    const [isReassigning, setIsReassigning] = useState(false);\r\n    const [selectedVolunteer, setSelectedVolunteer] = useState(issue.assignedTo);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setSelectedVolunteer(issue.assignedTo);\r\n    }, [issue.assignedTo]);\r\n\r\n    const isAssigned = issue.assignedTo && issue.assignedTo !== 'Unassigned';\r\n    const isSameVolunteer = selectedVolunteer === issue.assignedTo;\r\n\r\n    const handleAssignment = async () => {\r\n        if (!selectedVolunteer || selectedVolunteer === 'Unassigned' || isSameVolunteer) {\r\n            setIsReassigning(false);\r\n            return;\r\n        }\r\n        \r\n        setIsSaving(true);\r\n\r\n        try {\r\n            await axios.put(`${API_BASE_URL}/complaints/assign/${issue.id}`, \r\n                { assignedTo: selectedVolunteer },\r\n                { withCredentials: true }\r\n            );\r\n\r\n            onAssign(issue.id, selectedVolunteer);\r\n\r\n            setIsReassigning(false);\r\n            alert(`Issue ${issue.id} successfully assigned to ${selectedVolunteer}.`);\r\n\r\n        } catch (error) {\r\n            console.error(\"Assignment failed:\", error.response?.data || error.message);\r\n            alert(`Failed to assign issue: ${error.response?.data?.message || 'Server error.'}`);\r\n            \r\n            setSelectedVolunteer(issue.assignedTo); \r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    if (isReassigning) {\r\n        return (\r\n            <div className=\"reassign-control-inline\">\r\n                <select \r\n                    value={selectedVolunteer || 'Unassigned'} \r\n                    onChange={(e) => setSelectedVolunteer(e.target.value === 'Unassigned' ? null : e.target.value)}\r\n                    className=\"volunteer-select-admin\"\r\n                    disabled={isSaving}\r\n                >\r\n                    <option value=\"Unassigned\">Select Volunteer</option>\r\n                    {/* CRITICAL FIX: Use the live 'volunteers' prop */}\r\n                    {volunteers.map(v => ( \r\n                        <option key={v.id} value={v.name}>{v.name}</option>\r\n                    ))}\r\n                </select>\r\n                <div className=\"reassign-actions-group\">\r\n                    <button \r\n                        className=\"action-btn assign-confirm-btn\"\r\n                        onClick={handleAssignment}\r\n                        disabled={isSaving || !selectedVolunteer || selectedVolunteer === 'Unassigned' || isSameVolunteer}\r\n                    >\r\n                        {isSaving ? <Loader2 size={14} className=\"spinner\" /> : <UserCheck size={14} />}\r\n                        {isSaving ? 'Saving...' : 'Assign'}\r\n                    </button>\r\n                    <button \r\n                        className=\"action-btn assign-cancel-btn\"\r\n                        onClick={() => { \r\n                            setIsReassigning(false); \r\n                            setSelectedVolunteer(issue.assignedTo);\r\n                        }}\r\n                        disabled={isSaving}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"assigned-display\">\r\n            <span className=\"assigned-name-display\">{issue.assignedTo || 'Unassigned'}</span>\r\n            <button \r\n                className={`reassign-btn ${isAssigned ? 'reassign' : 'assign'}`}\r\n                onClick={() => setIsReassigning(true)}\r\n            >\r\n                {isAssigned ? <UserX size={14} /> : <UserIcon size={14} />}\r\n                {isAssigned ? 'Reassign' : 'Assign'}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n// ------------------------------------------------------------------\r\n\r\nconst AllIssuesAdmin = () => {\r\n    const navigate = useNavigate();\r\n    const { user, signOut } = useAuth();\r\n    \r\n    // --- State for Live Data ---\r\n    const [allIssues, setAllIssues] = useState([]);\r\n    const [allVolunteers, setAllVolunteers] = useState([]); // Live volunteers list\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [authChecked, setAuthChecked] = useState(false); \r\n    // ----------------------------\r\n\r\n    const handleLogout = () => {\r\n        if (window.confirm('Are you sure you want to logout?')) {\r\n            signOut();\r\n            navigate('/');\r\n        }\r\n    };\r\n\r\n    const getUserInitials = (name) => {\r\n        if (!name) return 'MJ';\r\n        return name.split(' ').map(part => part[0]).join('').toUpperCase();\r\n    };\r\n\r\n    const mapStatus = (serverStatus) => {\r\n        switch (serverStatus) {\r\n            case 'recived': return 'Pending';\r\n            case 'inReview': return 'In Progress';\r\n            case 'resolved': return 'Resolved';\r\n            default: return 'Pending';\r\n        }\r\n    };\r\n    \r\n    // --- API Fetch Functions ---\r\n    const fetchVolunteers = useCallback(async () => {\r\n        try {\r\n            // Fetches all users and filters for volunteers\r\n            const response = await axios.get(`${API_BASE_URL}/users/list-all`, { withCredentials: true });\r\n            const volunteersList = response.data.data.filter(u => u.role === 'volunteer').map(v => ({\r\n                id: v._id,\r\n                name: v.name,\r\n                location: v.location \r\n            }));\r\n            setAllVolunteers(volunteersList);\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch volunteer list:\", err.message);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const fetchIssues = useCallback(async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/complaints/all`, {\r\n                withCredentials: true\r\n            });\r\n            \r\n            const mappedIssues = response.data.data.map(comp => {\r\n                const statusText = mapStatus(comp.status);\r\n                const mockPriority = ['high', 'medium', 'low'][Math.floor(Math.random() * 3)];\r\n                \r\n                let assignedToName = comp.assignedTo; \r\n                \r\n                // CRITICAL FIX: If assignedTo is one of the department strings, show it as null/Unassigned.\r\n                if (DEPARTMENTS.includes(assignedToName)) {\r\n                    assignedToName = null; \r\n                }\r\n\r\n                const mockReportedBy = comp.userId?.name || 'Anonymous Citizen'; \r\n\r\n                return {\r\n                    id: comp._id,\r\n                    title: comp.title,\r\n                    status: statusText.toLowerCase().replace(' ', ''), \r\n                    priority: mockPriority, \r\n                    assignedTo: assignedToName, // Name comes directly from DB\r\n                    reportedBy: mockReportedBy,\r\n                    date: new Date(comp.createdAt).toLocaleDateString('en-US'),\r\n                };\r\n            });\r\n\r\n            setAllIssues(mappedIssues);\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch issues:\", err.response?.data || err.message);\r\n            setError('Failed to fetch issues data.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []); \r\n\r\n    // --- Auth Check and Data Fetch Effects ---\r\n    useEffect(() => {\r\n        const checkAuth = setTimeout(() => { setAuthChecked(true); }, 50); \r\n        return () => clearTimeout(checkAuth);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!authChecked) return;\r\n        if (user) {\r\n            fetchIssues();\r\n            fetchVolunteers(); // Fetch the list of volunteers\r\n        } else {\r\n            navigate('/login');\r\n        }\r\n    }, [user, navigate, fetchIssues, fetchVolunteers, authChecked]);\r\n\r\n\r\n    // --- Data Aggregation and Filtering ---\r\n    const filteredIssues = useMemo(() => {\r\n        if (!searchTerm) return allIssues;\r\n        const lowerSearchTerm = searchTerm.toLowerCase();\r\n        return allIssues.filter(issue => \r\n            issue.title.toLowerCase().includes(lowerSearchTerm) ||\r\n            issue.reportedBy.toLowerCase().includes(lowerSearchTerm) ||\r\n            (issue.assignedTo || '').toLowerCase().includes(lowerSearchTerm) ||\r\n            issue.status.toLowerCase().includes(lowerSearchTerm)\r\n        );\r\n    }, [allIssues, searchTerm]);\r\n\r\n    const dynamicStats = useMemo(() => {\r\n        const total = allIssues.length;\r\n        const inProgress = allIssues.filter(i => i.status === 'inprogress').length;\r\n        const resolved = allIssues.filter(i => i.status === 'resolved').length;\r\n        const pending = allIssues.filter(i => i.status === 'pending').length;\r\n\r\n        return [\r\n            { label: 'Total Issues', value: total, icon: BarChart3, color: '#e5e7eb' },\r\n            { label: 'In Progress', value: inProgress, icon: Clock, color: '#dbeafe' },\r\n            { label: 'Resolved', value: resolved, icon: CheckCircle, color: '#dcfce7' },\r\n            { label: 'Pending', value: pending, icon: AlertCircle, color: '#ffedd5' }\r\n        ];\r\n    }, [allIssues]);\r\n\r\n\r\n    // --- Assignment Logic ---\r\n    const handleAssignIssue = (issueId, newVolunteerName) => {\r\n        setAllIssues(prevIssues => prevIssues.map(issue => \r\n            issue.id === issueId ? { ...issue, assignedTo: newVolunteerName } : issue\r\n        ));\r\n    };\r\n    \r\n    // ... (handleViewDetails and conditional rendering remains) ...\r\n    if (!user && !authChecked) {\r\n        return (\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n                <p>Loading user session...</p>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"all-issues-admin\">\r\n            {/* Header */}\r\n            <header className=\"admin-header\">\r\n                <div className=\"admin-header-left\">\r\n                    <div className=\"admin-logo\">\r\n                        \r\n                        <div className=\"admin-logo-text\">\r\n                            <div className=\"admin-logo-title\">CivicEye</div>\r\n                            <div className=\"admin-logo-subtitle\">Civic Platform</div>\r\n                        </div>\r\n                    </div>\r\n                    <nav className=\"admin-nav\">\r\n                        <Link to=\"/admin-dashboard\" className=\"admin-nav-link\">\r\n                            <LayoutDashboard size={18} /> Dashboard\r\n                        </Link>\r\n                        <Link to=\"/admin-all-issues\" className=\"admin-nav-link active\">\r\n                            <AlertCircle size={18} /> All Issues\r\n                        </Link>\r\n                        <Link to=\"/admin-users-volunteers\" className=\"admin-nav-link\">\r\n                            <Users size={18} /> Users & Volunteers\r\n                        </Link>\r\n                        {/* <Link to=\"/admin-requests\" className=\"admin-nav-link\">\r\n                            <FileText size={18} /> Admin Request\r\n                        </Link> */}\r\n                        {/* <Link to=\"/admin-issues-updates\" className=\"admin-nav-link\">\r\n                            <Clock size={18} /> Issue Updates\r\n                        </Link> */}\r\n                    </nav>\r\n                </div>\r\n                <div className=\"user-profile\">\r\n                    <Link to=\"/AdminProfile\" className=\"profile-link\">\r\n                        <div className=\"user-initials\">{getUserInitials(user.name)}</div>\r\n                        <span className=\"user-name\">{user.name}</span>\r\n                    </Link>\r\n                    <button onClick={handleLogout} className=\"logout-btn-header\">\r\n                        <ArrowRight size={20} />\r\n                    </button>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"issues-hero\">\r\n                <div className=\"issues-hero-content\">\r\n                    <BarChart3 size={36} />\r\n                    <h1>All Issues Management</h1>\r\n                    <p>Comprehensive oversight and management of all reported issues across the platform</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"issues-stats-grid\">\r\n                {dynamicStats.map((stat, idx) => {\r\n                    const Icon = stat.icon;\r\n                    return (\r\n                        <div key={idx} className=\"issues-stat-card\">\r\n                            <div className=\"issues-stat-content\">\r\n                                <div className=\"issues-stat-info\">\r\n                                    <div className=\"issues-stat-label\">{stat.label}</div>\r\n                                    <div className=\"issues-stat-value\">{stat.value}</div>\r\n                                </div>\r\n                                <div className=\"issues-stat-icon\" style={{ backgroundColor: stat.color }}>\r\n                                    <Icon size={24} color=\"#6b7280\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            <div className=\"issues-table-section\">\r\n                <div className=\"issues-table-header\">\r\n                    <div className=\"issues-table-title\">\r\n                        <AlertCircle size={20} />\r\n                        <h2>Issues Overview</h2>\r\n                    </div>\r\n                    <p className=\"issues-table-subtitle\">Complete list of all reported issues with management actions</p>\r\n                </div>\r\n\r\n                <div className=\"table-actions\">\r\n                    <div className=\"search-box\">\r\n                        <Search size={18} />\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Search issues...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"issues-table-container\">\r\n                    {loading ? (\r\n                        <div className=\"loading-state-admin\">\r\n                            <div className=\"loading-spinner\"></div>\r\n                            <p>Loading issues from database...</p>\r\n                        </div>\r\n                    ) : error ? (\r\n                        <div className=\"error-state-admin\">\r\n                            <AlertCircle size={24} color=\"#ef4444\" />\r\n                            <p>{error}</p>\r\n                        </div>\r\n                    ) : filteredIssues.length === 0 ? (\r\n                        <div className=\"empty-state-admin\">\r\n                            <Search size={24} color=\"#9ca3af\" />\r\n                            <p>No issues found matching your search criteria.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <table className=\"issues-table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Title</th>\r\n                                    <th>Status</th>\r\n                                    <th>Priority</th>\r\n                                    <th>Assigned To</th>\r\n                                    <th>Reported By</th>\r\n                                    <th>Date</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {filteredIssues.map((issue) => (\r\n                                    <tr key={issue.id}>\r\n                                        <td className=\"issue-title-cell\">{issue.title}</td>\r\n                                        <td>\r\n                                            <span className={`status-badge status-${issue.status}`}>\r\n                                                {issue.status}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span className={`priority-badge priority-${issue.priority}`}>\r\n                                                {issue.priority}\r\n                                            </span>\r\n                                        </td>\r\n                                        \r\n                                        <td className=\"assigned-cell-combined\">\r\n                                            <AssignButton \r\n                                                issue={issue}\r\n                                                volunteers={allVolunteers}\r\n                                                onAssign={handleAssignIssue}\r\n                                            />\r\n                                        </td>\r\n                                        \r\n                                        <td>{issue.reportedBy}</td>\r\n                                        <td>{issue.date}</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllIssuesAdmin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}