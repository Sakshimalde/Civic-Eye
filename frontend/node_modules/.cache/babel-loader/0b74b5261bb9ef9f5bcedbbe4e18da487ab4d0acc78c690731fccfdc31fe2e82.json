{"ast":null,"code":"// // src/pages/AdminProfile.jsx\n\n// import React, { useEffect } from 'react'; // Removed unused useState\n// import { Link, useNavigate } from 'react-router-dom';\n// import axios from 'axios';\n// import { useAuth } from '../contexts/AuthContext';\n\n// // All necessary icons imported\n// import { \n//     User, Mail, MapPin, Briefcase, Award, Heart, CheckCircle, LogOut, Phone, Globe, ArrowRight, Edit3, \n//     LayoutDashboard, AlertCircle, Users, FileText, Clock, Loader2 \n// } from 'lucide-react'; \n// import './ProfilePage.css'; // Your custom CSS file\n\n// const AdminProfile = () => {\n//     const { user, signOut } = useAuth();\n//     const navigate = useNavigate();\n\n//     // --- Data Safety Check ---\n//     const mockUser = {\n//         name: user?.name || 'Michael Johnson',\n//         email: user?.email || 'admin@cleanstreet.com',\n//         role: user?.role || 'admin',\n//         createdAt: user?.createdAt || new Date().toISOString(),\n//         phone: user?.phone || '987-654-3210', \n//         location: user?.location || 'Maharashtra, India',\n//         about: user?.about || 'Active community member passionate about improving our neighborhood. I believe in working together to create cleaner, safer streets for everyone.',\n//         isPremium: true,\n//         ...user \n//     };\n\n//     // --- Logout and Redirect Logic ---\n//     useEffect(() => {\n//         // Redirect to login if user object is null (unauthenticated)\n//         if (user === null) { \n//             navigate('/login');\n//         }\n//     }, [user, navigate]);\n\n//     const handleLogout = () => {\n//         axios.post('http://localhost:3000/api/v1/users/logout', {}, { withCredentials: true })\n//             .catch(() => {})\n//             .finally(() => {\n//                 signOut();\n//                 navigate('/'); \n//             });\n//     };\n\n//     // --- Utility Functions ---\n//     const getUserInitials = (name) => {\n//         if (!name) return 'MJ'; // Default to MJ for Admin Profile\n//         const nameParts = name.split(' ');\n//         const initials = nameParts.map(part => part[0]).join('');\n//         return initials.toUpperCase();\n//     };\n\n//     const getJoinedDate = (dateString) => {\n//         if (!dateString) return 'Joined unknown date';\n//         const date = new Date(dateString);\n//         if (isNaN(date)) return 'Joined unknown date'; \n//         return `Joined ${date.toLocaleString('en-US', { month: 'long', year: 'numeric' })}`;\n//     };\n\n//     const username = mockUser.email ? mockUser.email.split('@')[0] : 'cleanstreeter';\n\n//     const InfoField = ({ icon: Icon, label, value }) => (\n//         <div className=\"info-item\">\n//             <Icon size={20} />\n//             <div className=\"info-text-inline\">\n//                 <span className=\"info-label\">{label}:</span>\n//                 <strong className=\"info-value\">{value}</strong>\n//             </div>\n//         </div>\n//     );\n\n//     // --- Loading State Render (CRITICAL FIX) ---\n//     if (user === undefined) { \n//         return (\n//             <div className=\"loading-state-profile\" style={{ \n//                 minHeight: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center', \n//                 flexDirection: 'column', fontSize: '1.2rem', color: '#4c66e4', backgroundColor: '#f7fafc' }}>\n//                 <Loader2 size={36} className=\"loader-spin\" style={{ animation: 'spin 1s linear infinite' }} />\n//                 Authenticating user...\n//             </div>\n//         );\n//     }\n\n//     return (\n//         <>\n//             {/* --- Navigation Header --- */}\n//             <header className=\"header-top\">\n//                 <div className=\"logo-section\">\n\n//                     <div className=\"logo-text\">CivicEye</div>\n//                 </div>\n\n//                 {/* FIX: Integrated Admin Navigation Links */}\n//                 <nav className=\"nav-links\">\n//                     <Link to=\"/admin-dashboard\" className=\"admin-nav-link\">\n//                         <LayoutDashboard size={18} /> Dashboard\n//                     </Link>\n//                     <Link to=\"/admin-all-issues\" className=\"admin-nav-link\">\n//                         <AlertCircle size={18} /> All Issues\n//                     </Link>\n//                     <Link to=\"/admin-users-volunteers\" className=\"admin-nav-link\">\n//                         <Users size={18} /> Users & Volunteers\n//                     </Link>\n//                     <Link to=\"/admin-requests\" className=\"admin-nav-link\">\n//                         <FileText size={18} /> Admin Requests\n//                     </Link>\n//                     <Link to=\"/admin-issues-updates\" className=\"admin-nav-link\">\n//                         <Clock size={18} /> Issue Updates\n//                     </Link>\n//                 </nav>\n\n//                 <div className=\"user-profile\">\n//                     <Link to=\"/AdminProfile\" className=\"profile-link active\">\n//                         <div className=\"user-initials\">{getUserInitials(mockUser.name)}</div>\n//                         <span className=\"user-name\">{mockUser.name}</span>\n//                     </Link>\n//                     <button onClick={handleLogout} className=\"logout-btn-header\">\n//                         <ArrowRight size={20} />\n//                     </button>\n//                 </div>\n//             </header>\n\n//             {/* --- Main Profile Layout --- */}\n//             <div className=\"profile-page-container\">\n\n//                 {/* --- Sidebar --- */}\n//                 <div className=\"profile-sidebar\">\n//                     <div className=\"profile-avatar-large\">\n//                         <span>{getUserInitials(mockUser.name)}</span>\n//                     </div>\n//                     <h2 className=\"profile-name\">{mockUser.name}</h2>\n//                     <p className=\"profile-username\">@{username}</p>\n//                     <p className=\"profile-joined\">{getJoinedDate(mockUser.createdAt)}</p>\n\n//                     <div className=\"profile-actions\">\n//                         <button className=\"update-profile-btn\" onClick={() => navigate('/edit-admin-profile')}>\n//                             <Edit3 size={16} /> Edit Profile\n//                         </button>\n//                         <button className=\"logout-btn\" onClick={handleLogout}>\n//                             <LogOut size={16} /> Logout\n//                         </button>\n//                     </div>\n\n//                     <div className=\"profile-badges\">\n//                         <div className=\"badge verified\">\n//                             <CheckCircle size={16} /> Verified Member\n//                         </div>\n//                         <div className=\"badge community-helper\">\n//                             <Heart size={16} /> Community Helper\n//                         </div>\n//                         <div className=\"badge local-champion\">\n//                             <Award size={16} /> Local Champion\n//                         </div>\n//                     </div>\n//                 </div>\n\n//                 {/* --- Main Content --- */}\n//                 <div className=\"profile-main-content\">\n\n//                     {/* Panel 1: Profile Information */}\n//                     <div className=\"profile-panel\">\n//                         <div className=\"panel-header-details\">\n//                             <div>\n//                                 <h3>Contact Details</h3>\n//                                 <p>Your personal contact and geographic information</p>\n//                             </div>\n//                             {/* Changed mockPremium to use actual role check */}\n//                             {mockUser.role === 'admin' && <span className=\"premium-badge\">Admin Access</span>}\n//                         </div>\n//                         <div className=\"profile-info-grid\">\n//                             <InfoField icon={User} label=\"Full Name\" value={mockUser.name} />\n//                             <InfoField icon={Briefcase} label=\"Role\" value={mockUser.role.charAt(0).toUpperCase() + mockUser.role.slice(1)} />\n//                             <InfoField icon={Mail} label=\"Email Address\" value={mockUser.email} />\n//                             <InfoField icon={Phone} label=\"Phone Number\" value={mockUser.phone} />\n//                             <InfoField icon={MapPin} label=\"Primary Location\" value={mockUser.location} />\n//                             <InfoField icon={Globe} label=\"Member Since\" value={getJoinedDate(mockUser.createdAt).replace('Joined ', '')} />\n//                         </div>\n//                     </div>\n\n//                     {/* Panel 2: About Me */}\n//                     <div className=\"profile-panel about-me-panel\">\n//                         <h3>About Me</h3>\n//                         <p>{mockUser.about}</p>\n//                     </div>\n//                 </div>\n//             </div>\n\n//             {/* --- Footer --- */}\n//             <footer className=\"footer\">\n//                 <div className=\"footer-column footer-logo-section\">\n//                     <div className=\"logo-section\">\n\n//                         <div className=\"logo-text\">CivicEye</div>\n//                     </div>\n//                     <p className=\"footer-tagline\">Civic Engagement Platform</p>\n//                     <p>Empowering communities to report, track, and resolve civic issues through collaborative engagement between citizens and local authorities.</p>\n//                     <div className=\"contact-info\">\n//                         <p><Mail size={16} /> <a href=\"mailto:hello@civiceye.org\">hello@civiceye.org</a></p>\n//                         <p><Phone size={16} /> <a href=\"tel:5551234567\">(555) 123-4567</a></p>\n//                         <p><Globe size={16} /> <a href=\"http://www.cleanstreet.org\" target=\"_blank\" rel=\"noopener noreferrer\">www.cleanstreet.org</a></p>\n//                     </div>\n//                 </div>\n//                 <div className=\"footer-column\">\n//                     <h4>Platform</h4>\n//                     <ul>\n//                         <li><a href=\"/how-it-works\">How it Works</a></li>\n//                         <li><a href=\"/features\">Features</a></li>\n//                         <li><a href=\"/pricing\">Pricing</a></li>\n//                         <li><a href=\"/mobile-app\">Mobile App</a></li>\n//                     </ul>\n//                 </div>\n//                 <div className=\"footer-column\">\n//                     <h4>Support</h4>\n//                     <ul>\n//                         <li><a href=\"/help\">Help Center</a></li>\n//                         <li><a href=\"/contact\">Contact Us</a></li>\n//                         <li><a href=\"/user-guide\">User Guide</a></li>\n//                         <li><a href=\"/forum\">Community Forum</a></li>\n//                     </ul>\n//                 </div>\n//                 <div className=\"footer-column\">\n//                     <h4>Company</h4>\n//                     <ul>\n//                         <li><a href=\"/about\">About Us</a></li>\n//                         <li><a href=\"/careers\">Careers</a></li>\n//                         <li><a href=\"/press\">Press Kit</a></li>\n//                         <li><a href=\"/blog\">Blog</a></li>\n//                     </ul>\n//                 </div>\n//             </footer>\n//         </>\n//     );\n// };\n\n// export default AdminProfile;","map":{"version":3,"names":[],"sources":["C:/Users/saksh/OneDrive/Desktop/DS/civiceye/civiceye/frontend/src/pages/AdminProfile.js"],"sourcesContent":["// // src/pages/AdminProfile.jsx\r\n\r\n// import React, { useEffect } from 'react'; // Removed unused useState\r\n// import { Link, useNavigate } from 'react-router-dom';\r\n// import axios from 'axios';\r\n// import { useAuth } from '../contexts/AuthContext';\r\n\r\n// // All necessary icons imported\r\n// import { \r\n//     User, Mail, MapPin, Briefcase, Award, Heart, CheckCircle, LogOut, Phone, Globe, ArrowRight, Edit3, \r\n//     LayoutDashboard, AlertCircle, Users, FileText, Clock, Loader2 \r\n// } from 'lucide-react'; \r\n// import './ProfilePage.css'; // Your custom CSS file\r\n\r\n// const AdminProfile = () => {\r\n//     const { user, signOut } = useAuth();\r\n//     const navigate = useNavigate();\r\n    \r\n//     // --- Data Safety Check ---\r\n//     const mockUser = {\r\n//         name: user?.name || 'Michael Johnson',\r\n//         email: user?.email || 'admin@cleanstreet.com',\r\n//         role: user?.role || 'admin',\r\n//         createdAt: user?.createdAt || new Date().toISOString(),\r\n//         phone: user?.phone || '987-654-3210', \r\n//         location: user?.location || 'Maharashtra, India',\r\n//         about: user?.about || 'Active community member passionate about improving our neighborhood. I believe in working together to create cleaner, safer streets for everyone.',\r\n//         isPremium: true,\r\n//         ...user \r\n//     };\r\n\r\n//     // --- Logout and Redirect Logic ---\r\n//     useEffect(() => {\r\n//         // Redirect to login if user object is null (unauthenticated)\r\n//         if (user === null) { \r\n//             navigate('/login');\r\n//         }\r\n//     }, [user, navigate]);\r\n\r\n//     const handleLogout = () => {\r\n//         axios.post('http://localhost:3000/api/v1/users/logout', {}, { withCredentials: true })\r\n//             .catch(() => {})\r\n//             .finally(() => {\r\n//                 signOut();\r\n//                 navigate('/'); \r\n//             });\r\n//     };\r\n\r\n//     // --- Utility Functions ---\r\n//     const getUserInitials = (name) => {\r\n//         if (!name) return 'MJ'; // Default to MJ for Admin Profile\r\n//         const nameParts = name.split(' ');\r\n//         const initials = nameParts.map(part => part[0]).join('');\r\n//         return initials.toUpperCase();\r\n//     };\r\n\r\n//     const getJoinedDate = (dateString) => {\r\n//         if (!dateString) return 'Joined unknown date';\r\n//         const date = new Date(dateString);\r\n//         if (isNaN(date)) return 'Joined unknown date'; \r\n//         return `Joined ${date.toLocaleString('en-US', { month: 'long', year: 'numeric' })}`;\r\n//     };\r\n\r\n//     const username = mockUser.email ? mockUser.email.split('@')[0] : 'cleanstreeter';\r\n    \r\n//     const InfoField = ({ icon: Icon, label, value }) => (\r\n//         <div className=\"info-item\">\r\n//             <Icon size={20} />\r\n//             <div className=\"info-text-inline\">\r\n//                 <span className=\"info-label\">{label}:</span>\r\n//                 <strong className=\"info-value\">{value}</strong>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n\r\n\r\n//     // --- Loading State Render (CRITICAL FIX) ---\r\n//     if (user === undefined) { \r\n//         return (\r\n//             <div className=\"loading-state-profile\" style={{ \r\n//                 minHeight: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center', \r\n//                 flexDirection: 'column', fontSize: '1.2rem', color: '#4c66e4', backgroundColor: '#f7fafc' }}>\r\n//                 <Loader2 size={36} className=\"loader-spin\" style={{ animation: 'spin 1s linear infinite' }} />\r\n//                 Authenticating user...\r\n//             </div>\r\n//         );\r\n//     }\r\n    \r\n//     return (\r\n//         <>\r\n//             {/* --- Navigation Header --- */}\r\n//             <header className=\"header-top\">\r\n//                 <div className=\"logo-section\">\r\n                    \r\n//                     <div className=\"logo-text\">CivicEye</div>\r\n//                 </div>\r\n                \r\n//                 {/* FIX: Integrated Admin Navigation Links */}\r\n//                 <nav className=\"nav-links\">\r\n//                     <Link to=\"/admin-dashboard\" className=\"admin-nav-link\">\r\n//                         <LayoutDashboard size={18} /> Dashboard\r\n//                     </Link>\r\n//                     <Link to=\"/admin-all-issues\" className=\"admin-nav-link\">\r\n//                         <AlertCircle size={18} /> All Issues\r\n//                     </Link>\r\n//                     <Link to=\"/admin-users-volunteers\" className=\"admin-nav-link\">\r\n//                         <Users size={18} /> Users & Volunteers\r\n//                     </Link>\r\n//                     <Link to=\"/admin-requests\" className=\"admin-nav-link\">\r\n//                         <FileText size={18} /> Admin Requests\r\n//                     </Link>\r\n//                     <Link to=\"/admin-issues-updates\" className=\"admin-nav-link\">\r\n//                         <Clock size={18} /> Issue Updates\r\n//                     </Link>\r\n//                 </nav>\r\n                \r\n//                 <div className=\"user-profile\">\r\n//                     <Link to=\"/AdminProfile\" className=\"profile-link active\">\r\n//                         <div className=\"user-initials\">{getUserInitials(mockUser.name)}</div>\r\n//                         <span className=\"user-name\">{mockUser.name}</span>\r\n//                     </Link>\r\n//                     <button onClick={handleLogout} className=\"logout-btn-header\">\r\n//                         <ArrowRight size={20} />\r\n//                     </button>\r\n//                 </div>\r\n//             </header>\r\n\r\n//             {/* --- Main Profile Layout --- */}\r\n//             <div className=\"profile-page-container\">\r\n                \r\n//                 {/* --- Sidebar --- */}\r\n//                 <div className=\"profile-sidebar\">\r\n//                     <div className=\"profile-avatar-large\">\r\n//                         <span>{getUserInitials(mockUser.name)}</span>\r\n//                     </div>\r\n//                     <h2 className=\"profile-name\">{mockUser.name}</h2>\r\n//                     <p className=\"profile-username\">@{username}</p>\r\n//                     <p className=\"profile-joined\">{getJoinedDate(mockUser.createdAt)}</p>\r\n\r\n//                     <div className=\"profile-actions\">\r\n//                         <button className=\"update-profile-btn\" onClick={() => navigate('/edit-admin-profile')}>\r\n//                             <Edit3 size={16} /> Edit Profile\r\n//                         </button>\r\n//                         <button className=\"logout-btn\" onClick={handleLogout}>\r\n//                             <LogOut size={16} /> Logout\r\n//                         </button>\r\n//                     </div>\r\n\r\n//                     <div className=\"profile-badges\">\r\n//                         <div className=\"badge verified\">\r\n//                             <CheckCircle size={16} /> Verified Member\r\n//                         </div>\r\n//                         <div className=\"badge community-helper\">\r\n//                             <Heart size={16} /> Community Helper\r\n//                         </div>\r\n//                         <div className=\"badge local-champion\">\r\n//                             <Award size={16} /> Local Champion\r\n//                         </div>\r\n//                     </div>\r\n//                 </div>\r\n\r\n//                 {/* --- Main Content --- */}\r\n//                 <div className=\"profile-main-content\">\r\n                    \r\n//                     {/* Panel 1: Profile Information */}\r\n//                     <div className=\"profile-panel\">\r\n//                         <div className=\"panel-header-details\">\r\n//                             <div>\r\n//                                 <h3>Contact Details</h3>\r\n//                                 <p>Your personal contact and geographic information</p>\r\n//                             </div>\r\n//                             {/* Changed mockPremium to use actual role check */}\r\n//                             {mockUser.role === 'admin' && <span className=\"premium-badge\">Admin Access</span>}\r\n//                         </div>\r\n//                         <div className=\"profile-info-grid\">\r\n//                             <InfoField icon={User} label=\"Full Name\" value={mockUser.name} />\r\n//                             <InfoField icon={Briefcase} label=\"Role\" value={mockUser.role.charAt(0).toUpperCase() + mockUser.role.slice(1)} />\r\n//                             <InfoField icon={Mail} label=\"Email Address\" value={mockUser.email} />\r\n//                             <InfoField icon={Phone} label=\"Phone Number\" value={mockUser.phone} />\r\n//                             <InfoField icon={MapPin} label=\"Primary Location\" value={mockUser.location} />\r\n//                             <InfoField icon={Globe} label=\"Member Since\" value={getJoinedDate(mockUser.createdAt).replace('Joined ', '')} />\r\n//                         </div>\r\n//                     </div>\r\n\r\n//                     {/* Panel 2: About Me */}\r\n//                     <div className=\"profile-panel about-me-panel\">\r\n//                         <h3>About Me</h3>\r\n//                         <p>{mockUser.about}</p>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             {/* --- Footer --- */}\r\n//             <footer className=\"footer\">\r\n//                 <div className=\"footer-column footer-logo-section\">\r\n//                     <div className=\"logo-section\">\r\n                        \r\n//                         <div className=\"logo-text\">CivicEye</div>\r\n//                     </div>\r\n//                     <p className=\"footer-tagline\">Civic Engagement Platform</p>\r\n//                     <p>Empowering communities to report, track, and resolve civic issues through collaborative engagement between citizens and local authorities.</p>\r\n//                     <div className=\"contact-info\">\r\n//                         <p><Mail size={16} /> <a href=\"mailto:hello@civiceye.org\">hello@civiceye.org</a></p>\r\n//                         <p><Phone size={16} /> <a href=\"tel:5551234567\">(555) 123-4567</a></p>\r\n//                         <p><Globe size={16} /> <a href=\"http://www.cleanstreet.org\" target=\"_blank\" rel=\"noopener noreferrer\">www.cleanstreet.org</a></p>\r\n//                     </div>\r\n//                 </div>\r\n//                 <div className=\"footer-column\">\r\n//                     <h4>Platform</h4>\r\n//                     <ul>\r\n//                         <li><a href=\"/how-it-works\">How it Works</a></li>\r\n//                         <li><a href=\"/features\">Features</a></li>\r\n//                         <li><a href=\"/pricing\">Pricing</a></li>\r\n//                         <li><a href=\"/mobile-app\">Mobile App</a></li>\r\n//                     </ul>\r\n//                 </div>\r\n//                 <div className=\"footer-column\">\r\n//                     <h4>Support</h4>\r\n//                     <ul>\r\n//                         <li><a href=\"/help\">Help Center</a></li>\r\n//                         <li><a href=\"/contact\">Contact Us</a></li>\r\n//                         <li><a href=\"/user-guide\">User Guide</a></li>\r\n//                         <li><a href=\"/forum\">Community Forum</a></li>\r\n//                     </ul>\r\n//                 </div>\r\n//                 <div className=\"footer-column\">\r\n//                     <h4>Company</h4>\r\n//                     <ul>\r\n//                         <li><a href=\"/about\">About Us</a></li>\r\n//                         <li><a href=\"/careers\">Careers</a></li>\r\n//                         <li><a href=\"/press\">Press Kit</a></li>\r\n//                         <li><a href=\"/blog\">Blog</a></li>\r\n//                     </ul>\r\n//                 </div>\r\n//             </footer>\r\n//         </>\r\n//     );\r\n// };\r\n\r\n// export default AdminProfile;"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}